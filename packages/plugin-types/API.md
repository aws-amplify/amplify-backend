## API Report File for "@aws-amplify/plugin-types"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { CfnFunction } from 'aws-cdk-lib/aws-lambda';
import { CfnIdentityPool } from 'aws-cdk-lib/aws-cognito';
import { CfnIdentityPoolRoleAttachment } from 'aws-cdk-lib/aws-cognito';
import { CfnUserPool } from 'aws-cdk-lib/aws-cognito';
import { CfnUserPoolClient } from 'aws-cdk-lib/aws-cognito';
import { CfnUserPoolGroup } from 'aws-cdk-lib/aws-cognito';
import { Client } from '@aws-sdk/types';
import { Construct } from 'constructs';
import { ExecaChildProcess } from 'execa';
import { IFunction } from 'aws-cdk-lib/aws-lambda';
import { IRole } from 'aws-cdk-lib/aws-iam';
import { IUserPool } from 'aws-cdk-lib/aws-cognito';
import { IUserPoolClient } from 'aws-cdk-lib/aws-cognito';
import { MetadataBearer } from '@aws-sdk/types';
import { Options } from 'execa';
import { Policy } from 'aws-cdk-lib/aws-iam';
import { SecretValue } from 'aws-cdk-lib';
import { Stack } from 'aws-cdk-lib';

// @public (undocumented)
export type AmplifyFunction = ResourceProvider<FunctionResources>;

// @public
export type AppId = string;

// @public
export type AuthCfnResources = {
    cfnUserPool: CfnUserPool;
    cfnUserPoolClient: CfnUserPoolClient;
    cfnIdentityPool: CfnIdentityPool;
    cfnIdentityPoolRoleAttachment: CfnIdentityPoolRoleAttachment;
};

// @public
export type AuthResources = {
    userPool: IUserPool;
    userPoolClient: IUserPoolClient;
    authenticatedUserIamRole: IRole;
    unauthenticatedUserIamRole: IRole;
    cfnResources: AuthCfnResources;
    groups: {
        [groupName: string]: {
            cfnUserGroup: CfnUserPoolGroup;
            role: IRole;
        };
    };
};

// @public (undocumented)
export type AuthRoleName = keyof Pick<AuthResources, 'authenticatedUserIamRole' | 'unauthenticatedUserIamRole'>;

// @public (undocumented)
export type AWSClientProvider<T extends Record<`get${string}Client`, Client<object, MetadataBearer, unknown>>> = {
    [K in keyof T]: () => T[K];
};

// @public
export type BackendIdentifier = {
    namespace: Readonly<AppId>;
    name: Readonly<BranchName>;
    type: Readonly<Extract<DeploymentType, 'branch'>>;
    hash?: Readonly<string>;
} | {
    namespace: Readonly<ProjectName>;
    name: Readonly<SandboxName>;
    type: Readonly<Extract<DeploymentType, 'sandbox'>>;
    hash?: Readonly<string>;
};

// @public (undocumented)
export type BackendOutput = Record<string, BackendOutputEntry>;

// @public (undocumented)
export type BackendOutputEntry<T extends Record<string, string> = Record<string, string>> = {
    readonly version: string;
    readonly payload: T;
};

// @public (undocumented)
export type BackendOutputRetrievalStrategy = {
    fetchBackendOutput: () => Promise<BackendOutput>;
};

// @public
export type BackendOutputStorageStrategy<T extends BackendOutputEntry> = {
    addBackendOutputEntry: (keyName: string, backendOutputEntry: T) => void;
    appendToBackendOutputList: (keyName: string, backendOutputEntry: T) => void;
};

// @public (undocumented)
export type BackendSecret = {
    resolve: (scope: Construct, backendIdentifier: BackendIdentifier) => SecretValue;
    resolvePath: (backendIdentifier: BackendIdentifier) => ResolvePathResult;
};

// @public (undocumented)
export type BackendSecretResolver = {
    resolveSecret: (backendSecret: BackendSecret) => SecretValue;
    resolvePath: (backendSecret: BackendSecret) => ResolvePathResult;
};

// @public (undocumented)
export type BranchName = string;

// @public
export type ConstructContainer = {
    getOrCompute: (generator: ConstructContainerEntryGenerator) => ResourceProvider;
    registerConstructFactory: (token: string, provider: ConstructFactory) => void;
    getConstructFactory: <T extends ResourceProvider>(token: string) => ConstructFactory<T> | undefined;
};

// @public
export type ConstructContainerEntryGenerator<T extends object = object> = {
    resourceGroupName: string;
    generateContainerEntry: (props: GenerateContainerEntryProps) => ResourceProvider<T>;
};

// @public
export type ConstructFactory<T extends ResourceProvider = ResourceProvider> = {
    readonly provides?: string;
    getInstance: (props: ConstructFactoryGetInstanceProps) => T;
};

// @public (undocumented)
export type ConstructFactoryGetInstanceProps = {
    constructContainer: ConstructContainer;
    outputStorageStrategy: BackendOutputStorageStrategy<BackendOutputEntry>;
    importPathVerifier?: ImportPathVerifier;
    resourceNameValidator?: ResourceNameValidator;
};

// @public
export type DeepPartialAmplifyGeneratedConfigs<T> = {
    [P in keyof T]?: P extends 'auth' | 'data' | 'storage' ? T[P] extends object ? DeepPartialAmplifyGeneratedConfigs<T[P]> : Partial<T[P]> : T[P];
};

// @public
export type DeploymentType = 'branch' | 'sandbox';

// @public (undocumented)
export type FunctionResources = {
    lambda: IFunction;
    cfnResources: {
        cfnFunction: CfnFunction;
    };
};

// @public (undocumented)
export type GenerateContainerEntryProps = {
    scope: Construct;
    backendSecretResolver: BackendSecretResolver;
    ssmEnvironmentEntriesGenerator: SsmEnvironmentEntriesGenerator;
    stableBackendIdentifiers: StableBackendIdentifiers;
};

// @public
export type ImportPathVerifier = {
    verify: (importStack: string | undefined, expectedImportingFile: string, errorMessage: string) => void;
};

// @public
export type MainStackCreator = {
    getOrCreateMainStack: () => Stack;
};

// @public
export type MainStackNameResolver = {
    resolveMainStackName: () => Promise<string>;
};

// @public (undocumented)
export type PackageManagerController = {
    initializeProject: () => Promise<void>;
    initializeTsConfig: (targetDir: string) => Promise<void>;
    installDependencies: (packageNames: string[], type: 'dev' | 'prod') => Promise<void>;
    runWithPackageManager: (args: string[] | undefined, dir: string, options?: Options<'utf8'>) => ExecaChildProcess;
    getCommand: (args: string[]) => string;
};

// @public (undocumented)
export type ProjectName = string;

// @public (undocumented)
export type ResolvePathResult = {
    branchSecretPath: string;
    sharedSecretPath: string;
};

// @public (undocumented)
export type ResourceAccessAcceptor = {
    identifier: string;
    acceptResourceAccess: (policy: Policy, ssmEnvironmentEntries: SsmEnvironmentEntry[]) => void;
};

// @public (undocumented)
export type ResourceAccessAcceptorFactory<RoleIdentifier extends string | undefined = undefined> = {
    getResourceAccessAcceptor: (...roleIdentifier: RoleIdentifier extends string ? [RoleIdentifier] : []) => ResourceAccessAcceptor;
};

// @public
export type ResourceNameValidator = {
    validate: (resourceName: string) => void;
};

// @public
export type ResourceProvider<T extends object = object> = {
    resources: T;
};

// @public (undocumented)
export type SandboxName = string;

// @public (undocumented)
export type SsmEnvironmentEntriesGenerator = {
    generateSsmEnvironmentEntries: (scopeContext: Record<string, string>) => SsmEnvironmentEntry[];
};

// @public (undocumented)
export type SsmEnvironmentEntry = {
    name: string;
    path: string;
};

// @public (undocumented)
export type StableBackendIdentifiers = {
    getStableBackendHash: () => string;
};

// (No @packageDocumentation comment for this package)

```
